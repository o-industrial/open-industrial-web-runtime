# Composite Schema

> *"You compose everything into RoomState."*

Youâ€™ve added reference data. Youâ€™ve taught Azi what devices exist, where they live, and what good looks like.

Now sheâ€™s ready to offer you something more: a **composite view of the world.**

## What Azi Sees

With everything in placeâ€”promoted telemetry, metadata, and room-level thresholdsâ€”Azi proposes a new composite schema:

```json
{
  "Room": "Lab1",
  "Temperature": 83.2,
  "DesiredTemp": 72,
  "FanDevice": "fan-controller-001",
  "FanPower": "off"
}
```

This isnâ€™t a guess. Itâ€™s the result of joined structure:
- `TemperatureSensor` telemetry
- Device relationships from `DeviceDirectory`
- Target values from `RoomThresholdConfig`
- Current state from the `FanControl` schema

> *"This looks like a RoomState. Want to promote it?"*

## Promote the Composite

Youâ€™ll see a structured preview of the proposed schema in the **Schema Panel** on your surface. Azi highlights where each field comes from and how the structure was formed.

Click **Promote Schema** to begin the flow:
- Review each field and confirm its type
- Optionally rename fields (e.g. `FanDevice` â†’ `FanID`)
- Name the schema: `RoomState`
- Azi will automatically version it as `RoomState v1`

![Screenshot: Promote Composite Schema Flow](PLACEHOLDER_promote-roomstate.png)
*Caption: Aziâ€™s proposed schema becomes yours once you name and confirm it.*

Once promoted:
- `RoomState` is added to your schema library
- It becomes available for binding in agents and tools
- All future logic can now operate on a single, rich, context-aware structure

This isnâ€™t just structure anymoreâ€”itâ€™s shared understanding.

## Why It Matters

Agents running on `RoomState` donâ€™t need to look up thresholds or location context. They simply react to the current state of each room:

- Whatâ€™s happening now?
- What should be happening?
- Where is it happening?

Thatâ€™s how your logic becomes adaptable. Composable. Resilient.

> *ðŸ’¡ Thinky Tip: Composite schemas turn fragments into futures.*

---

Next: [Command the Sim] â†’ Youâ€™ll extend this schema by triggering new data from a paused connection.

---

