import {
  ThematicPrincipleBlock,
  AziInnerVoice,
  InlineUXTip,
  SystemMindset,
  FigureImage,
  IntentTypes,
} from '$mdx/writing-devices';

# Ask Azi: Natural Language Query

<SystemMindset intentType={IntentTypes.Primary}>
  Your data is live. Now it’s time to talk to it — in your own words.
</SystemMindset>

With Open Industrial, you don’t need to know KQL or write complex queries. Just ask a question. Azi handles the rest.

---

## Just Ask — Plain English Works

From the Query Panel, type a natural question like:

> “Show me flow rate spikes on Line 3 last week.”  
> “Which sensors reported values over 90 today?”  
> “Top 5 temperature changes in the past 12 hours.”

Azi interprets your request and translates it into a live query against your telemetry stream.

<FigureImage
  src="/assets/screenshots/ask-azi-query-panel.png"
  alt="Natural language query panel with generated KQL visible"
  caption="Ask Azi anything about your live data. She builds the query for you."
  intentType={IntentTypes.Info}
  glow
  shadow="2xl"
/>

<InlineUXTip intentType={IntentTypes.Info}>
Try questions that mention field names, time windows, or thresholds.
</InlineUXTip>

---

## See the KQL Behind the Scenes

You don’t need to know KQL — but we show it to build trust:

```kql
Telemetry
| where deviceId == "boiler-3"
| where flowRate > 120
| where timestamp > ago(7d)
| summarize avg(flowRate) by bin(timestamp, 1h)
```

This query was generated from:

> "Show me flow rate spikes on boiler 3 this week"

<AziInnerVoice intentType={IntentTypes.Tertiary}>
I’ll translate what you ask — clearly, transparently, and safely.
</AziInnerVoice>

---

## Governed, Contextual Results

Every query respects your current Workspace and permissions:

- Only data you’re allowed to access is scanned
- Queries are scoped to the connections and time ranges you define
- Field renames and annotations improve query accuracy

<ThematicPrincipleBlock intentType={IntentTypes.Secondary}>
  Your questions only touch your data. Azi lives inside your governed boundary.
</ThematicPrincipleBlock>

---

## Insight Without Scripting

Open Industrial lets your entire team ask questions:

- OT leads can explore machine behavior
- Engineers can test signal thresholds
- Analysts can summarize patterns

No one needs to write SQL, scripts, or dashboards.

<FigureImage
  src="/assets/screenshots/ask-azi-query-result.png"
  alt="Query result table and graph from Azi’s response"
  caption="Query results appear instantly — as tables, timelines, or charts."
  intentType={IntentTypes.Info}
  glow
  shadow="2xl"
/>

<InlineUXTip intentType={IntentTypes.Info}>
Results can be exported or piped to downstream APIs and dashboards.
</InlineUXTip>

---

## You Teach the Context

Early on, Azi might not understand all of your field names or intents.

That’s why renaming fields, tagging known sensors, and annotating streams helps:

- "tempRaw" → "Temperature (°F)"
- "dev_001_hum" → "Line 1 Humidity Sensor"

<InlineUXTip intentType={IntentTypes.Warning}>
Azi doesn’t guess field meaning. She follows your lead.
</InlineUXTip>

<AziInnerVoice intentType={IntentTypes.Tertiary}>
You define what matters. I’ll ask sharper questions and give better answers.
</AziInnerVoice>

---

## Ready for Action

Natural language lets you:

- Validate field values over time
- Find anomalies fast
- Answer ad hoc operational questions

<ThematicPrincipleBlock intentType={IntentTypes.Primary}>
  You’re not querying a database. You’re having a conversation with your live telemetry.
</ThematicPrincipleBlock>

👉 <strong>Next: Use the APIs</strong>
